# vkpredict

Тестовое задания на стажировку в команду поиска.

Больше похоже на конструктор, нежели на решение. В текущей реализации используется два раунда:
1. Обратный индекс по префиксам слов. Нужен только лишь для предварительной
   выборки документов с хранилища
2. LCS с расстоянием Дамерау-Левеншейна в качестве метрики схожести слов. На
   этом этапе документы сортируются по похожести на изначальный запрос
Также используется простой препроцессинг: удаление регистров и знаков пунктуации.

В качестве хранилища используется LevelDB.

## Архитектура
Почти каждая часть решения может быть заменена на другую реализацию. Всего основных блоков 4:
- Хранилище
- Инвертированный индекс
- Препроцессинг
- Матчер

Также особняком стоит `vkpredict.Predictor`, который инкапсулирует хранилище и главный матчер.

## Запуск и тесты

``` sh
go run ./cmd/cli -load entries -queries queries
```

Сначала он выполнит запросы из `queries`, затем откроется read-loop.

- Флаг `-limit <N>` указывает количетсво возвращаемых документов на запрос
- Флаг `-dbname <path>` указывает путь до leveldb. Если не указан, то будет
  использована `store/memory`
